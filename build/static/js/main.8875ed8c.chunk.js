(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{16:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),u=n.n(r),c=n(15),o=n.n(c),l=function(e){var t=e.searchText,n=e.setSearchText;return u.a.createElement("div",null,u.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)},placeholder:"Search..."}))},s=function(e){var t=e.newName,n=e.newNumber,a=e.setNewName,r=e.setNewNumber,c=e.handleSubmit;return u.a.createElement("form",{onSubmit:c},u.a.createElement("div",null,u.a.createElement("label",{htmlFor:"nameField"},"Name: "),u.a.createElement("input",{id:"nameField",value:t,onChange:function(e){return a(e.target.value)}}),u.a.createElement("label",{htmlFor:"phoneNo"},"Phone number: "),u.a.createElement("input",{id:"phoneNo",value:n,onChange:function(e){return r(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",null,"Add")))},i=function(e){var t=e.person,n=e.handleDelete,a=e.handleUpdate,r=t.id,c=t.name,o=t.number;return u.a.createElement("li",null,c," ",o,u.a.createElement("button",{onClick:function(){return n(r,c)}},"delete"),u.a.createElement("button",{onClick:function(){return a(r)}},"update"))},d=function(e){var t,n=e.searchResult,a=e.searchText,r=e.persons,c=e.handleDelete,o=e.handleUpdate;return t=n.length?n.map((function(e){return u.a.createElement(i,{key:e.id,person:e,handleDelete:c,handleUpdate:o})})):a&&!n.length?u.a.createElement("p",null,"No match for your search!"):r.map((function(e){return u.a.createElement(i,{key:e.id,person:e,handleDelete:c,handleUpdate:o})})),u.a.createElement("ul",null,t)},m=function(e){var t=e.data,n=e.status,a=e.setAlert;return setTimeout((function(){return a({view:!1,data:{},status:!1})}),3e3),u.a.createElement("div",{id:"modal",style:{backgroundColor:n?"#4caf50":"#f44336"}},u.a.createElement("p",null,t))},f=n(2),p=n.n(f),h=n(4),b=n(5),v=n.n(b),w={getAll:function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/persons");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addPerson:function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/api/persons",{name:t,number:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deletePerson:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("".concat("/api/persons","/").concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePerson:function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put("".concat("/api/persons","/").concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};n(40);o.a.render(u.a.createElement((function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),i=Object(a.a)(o,2),f=i[0],p=i[1],h=Object(r.useState)(""),b=Object(a.a)(h,2),v=b[0],E=b[1],N=Object(r.useState)(""),x=Object(a.a)(N,2),j=x[0],O=x[1],g=Object(r.useState)({view:!1,data:"",status:!1}),y=Object(a.a)(g,2),k=y[0],S=y[1];Object(r.useEffect)((function(){w.getAll().then((function(e){var t=e.data;c(t)}))}),[]);var C=function(){return n.find((function(e){return e.name===f}))},P=function(e){return n.filter((function(e){return e.name.toLowerCase().includes(j.toLowerCase())}))};return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(l,{searchText:j,handleSearch:P,setSearchText:O}),u.a.createElement("h3",null,"Add a new"),u.a.createElement(s,{newName:f,newNumber:v,handleSubmit:function(e){e.preventDefault(),C()?S({view:!0,data:"".concat(f," is already exist"),status:!1}):w.addPerson(f,v).then((function(e){var t=e.data;c(n.concat(t)),p(""),E(""),S({view:!0,data:"Number added successfully",status:!0})})).catch((function(e){S({view:!0,data:e.response.data.message,status:!1})}))},setNewName:p,setNewNumber:E}),u.a.createElement("h3",null,"Numbers"),u.a.createElement(d,{persons:n,searchText:j,searchResult:P(),handleDelete:function(e,t){window.confirm("Delete ".concat(t,"!!"))&&w.deletePerson(e).then((function(){var t=n.filter((function(t){return t.id!==e}));c(t)})).catch((function(a){S({view:!0,data:"Information of ".concat(t," has already been removed from the server"),status:!1}),c(n.filter((function(t){return t.id!==e}))),p(""),E("")}))},handleUpdate:function(e){var t=window.prompt("Replace the old number with this number?");t&&w.updatePerson(e,{number:t}).then((function(t){c(n.map((function(n){return n.id===e?t.data:n}))),p(""),E(""),S({view:!0,data:"Number updated successfully",status:!0})})).catch((function(t){S({view:!0,data:"Information of ".concat(f," has already been removed from the server"),status:!1}),c(n.filter((function(t){return t.id!==e}))),p(""),E("")}))}}),k.view?u.a.createElement(m,{data:k.data,status:k.status,setAlert:S}):null)}),null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.8875ed8c.chunk.js.map