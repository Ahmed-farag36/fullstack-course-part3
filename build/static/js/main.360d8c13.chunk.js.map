{"version":3,"sources":["components/SearchForm.js","components/AddForm.js","components/Persons.js","components/Alert.js","services/namesService.js","index.js"],"names":["searchText","setSearchText","value","onChange","e","target","placeholder","newName","newNumber","setNewName","setNewNumber","handleSubmit","onSubmit","htmlFor","id","results","searchResult","persons","handleDelete","length","map","name","number","key","onClick","data","status","style","backgroundColor","getAll","a","axios","get","addPerson","post","deletePerson","delete","updatePerson","updatedPerson","put","ReactDOM","render","useState","setPersons","view","alert","setAlert","useEffect","namesService","then","checkDuplicate","find","newPerson","person","setTimeout","catch","err","filter","handleSearch","toLowerCase","includes","SearchForm","AddForm","preventDefault","duplicatedPerson","window","confirm","phoneNumber","response","message","Persons","updatesList","Alert","document","getElementById"],"mappings":"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","file":"static/js/main.360d8c13.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default ({ searchText, setSearchText }) => (\r\n  <div>\r\n    <input\r\n      value={searchText}\r\n      onChange={e => setSearchText(e.target.value)}\r\n      placeholder=\"Search...\"\r\n    />\r\n  </div>\r\n);\r\n","import React from \"react\";\r\n\r\nexport default ({ newName, newNumber, setNewName, setNewNumber, handleSubmit }) => (\r\n  <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label htmlFor=\"nameField\">Name: </label>\r\n          <input\r\n            id=\"nameField\"\r\n            value={newName}\r\n            onChange={e => setNewName(e.target.value)}\r\n          />\r\n          <label htmlFor=\"phoneNo\">Phone number: </label>\r\n          <input\r\n            id=\"phoneNo\"\r\n            value={newNumber}\r\n            onChange={e => setNewNumber(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button>Add</button>\r\n        </div>\r\n      </form>\r\n);","import React from \"react\";\r\n\r\nexport default ({ searchResult, searchText, persons, handleDelete }) => {\r\n\tlet results;\r\n\r\n\tif (searchResult.length) {\r\n\t\tresults = searchResult.map(({ id, name, number }) => (\r\n\t\t\t<li key={name}>\r\n\t\t\t\t{name} {number}\r\n\t\t\t\t<button onClick={() => handleDelete(id, name)}>delete</button>\r\n\t\t\t</li>\r\n\t\t));\r\n\t} else if (searchText && !searchResult.length) {\r\n\t\tresults = <p>No match for your search!</p>;\r\n\t} else {\r\n\t\tresults = persons.map(({ id, name, number }) => (\r\n\t\t\t<li key={name}>\r\n\t\t\t\t{name} {number}\r\n\t\t\t\t<button onClick={() => handleDelete(id, name)}>delete</button>\r\n\t\t\t</li>\r\n\t\t));\r\n\t}\r\n\r\n\treturn <ul>{results}</ul>;\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ data, status }) => (\r\n  <div id=\"modal\" style={{ backgroundColor: status ? \"#4caf50\" : \"#f44336\" }}>\r\n    <p>{data}</p>\r\n  </div>\r\n);\r\n","import axios from \"axios\";\r\n\r\nconst relativeURL = \"/api/persons\";\r\n\r\nconst getAll = async () => {\r\n\treturn await axios.get(relativeURL);\r\n};\r\n\r\nconst addPerson = async (newName, newNumber) => {\r\n\treturn await axios.post(relativeURL, {\r\n\t\tname: newName,\r\n\t\tnumber: newNumber\r\n\t});\r\n};\r\n\r\nconst deletePerson = async id => {\r\n\tawait axios.delete(`${relativeURL}/${id}`);\r\n};\r\n\r\nconst updatePerson = async (id, updatedPerson) => {\r\n\treturn await axios.put(`${relativeURL}/${id}`, updatedPerson);\r\n};\r\n\r\nexport default {\r\n\tgetAll,\r\n\taddPerson,\r\n\tdeletePerson,\r\n\tupdatePerson\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport SearchForm from \"./components/SearchForm\";\r\nimport AddForm from \"./components/AddForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport Alert from \"./components/Alert\";\r\nimport namesService from \"./services/namesService\";\r\nimport \"./index.css\";\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState(\"\");\r\n\tconst [newNumber, setNewNumber] = useState(\"\");\r\n\tconst [searchText, setSearchText] = useState(\"\");\r\n\tconst [alert, setAlert] = useState({ view: false, data: \"\", status: false });\r\n\r\n\tuseEffect(() => {\r\n\t\tnamesService.getAll().then(({ data }) => {\r\n\t\t\tsetPersons(data);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tconst duplicatedPerson = checkDuplicate();\r\n\t\tif (duplicatedPerson) {\r\n\t\t\tif (\r\n\t\t\t\t!window.confirm(\r\n\t\t\t\t\t`${newName} is already added to the phonebook, replace the old number with the new one?`\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t\treturn;\r\n\t\t\tupdatePerson(duplicatedPerson.id, {\r\n\t\t\t\t...duplicatedPerson,\r\n\t\t\t\tphoneNumber: newNumber\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnamesService\r\n\t\t\t\t.addPerson(newName, newNumber)\r\n\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\tsetPersons(data);\r\n\t\t\t\t\tsetNewName(\"\");\r\n\t\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t\t\tsetAlert({\r\n\t\t\t\t\t\tview: true,\r\n\t\t\t\t\t\tdata: \"Number added successfully\",\r\n\t\t\t\t\t\tstatus: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\t() => setAlert({ view: false, data: {}, status: false }),\r\n\t\t\t\t\t\t3000\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tsetAlert({\r\n\t\t\t\t\t\tview: true,\r\n\t\t\t\t\t\tdata: err.response.data.message,\r\n\t\t\t\t\t\tstatus: false\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\t() => setAlert({ view: false, data: {}, status: false }),\r\n\t\t\t\t\t\t3000\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst checkDuplicate = () => persons.find(({ name }) => name === newName);\r\n\r\n\tconst updatePerson = (id, newPerson) => {\r\n\t\tnamesService\r\n\t\t\t.updatePerson(id, newPerson)\r\n\t\t\t.then(updatedPerson => {\r\n\t\t\t\tsetPersons(\r\n\t\t\t\t\tpersons.map(person => {\r\n\t\t\t\t\t\tif (person.id === id) {\r\n\t\t\t\t\t\t\treturn updatedPerson.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn person;\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\tsetNewName(\"\");\r\n\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t\tsetAlert({\r\n\t\t\t\t\tview: true,\r\n\t\t\t\t\tdata: \"Number updated successfully\",\r\n\t\t\t\t\tstatus: true\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(\r\n\t\t\t\t\t() => setAlert({ view: false, data: {}, status: false }),\r\n\t\t\t\t\t3000\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetAlert({\r\n\t\t\t\t\tview: true,\r\n\t\t\t\t\tdata: `Information of ${newPerson.name} has already been removed from the server`,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(\r\n\t\t\t\t\t() => setAlert({ view: false, data: {}, status: false }),\r\n\t\t\t\t\t3000\r\n\t\t\t\t);\r\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id));\r\n\t\t\t\tsetNewName(\"\");\r\n\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleSearch = e => {\r\n\t\treturn persons.filter(({ name }) =>\r\n\t\t\tname.toLowerCase().includes(searchText.toLowerCase())\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleDelete = (id, name) => {\r\n\t\tif (!window.confirm(`Delete ${name}!!`)) return;\r\n\t\tnamesService\r\n\t\t\t.deletePerson(id)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst updatesList = persons.filter(person => person.id !== id);\r\n\t\t\t\tsetPersons(updatesList);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetAlert({\r\n\t\t\t\t\tview: true,\r\n\t\t\t\t\tdata: `Information of ${name} has already been removed from the server`,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(\r\n\t\t\t\t\t() => setAlert({ view: false, data: {}, status: false }),\r\n\t\t\t\t\t3000\r\n\t\t\t\t);\r\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id));\r\n\t\t\t\tsetNewName(\"\");\r\n\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<SearchForm\r\n\t\t\t\tsearchText={searchText}\r\n\t\t\t\thandleSearch={handleSearch}\r\n\t\t\t\tsetSearchText={setSearchText}\r\n\t\t\t/>\r\n\t\t\t<h3>Add a new</h3>\r\n\t\t\t<AddForm\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tsetNewName={setNewName}\r\n\t\t\t\tsetNewNumber={setNewNumber}\r\n\t\t\t/>\r\n\t\t\t<h3>Numbers</h3>\r\n\t\t\t<Persons\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tsearchText={searchText}\r\n\t\t\t\tsearchResult={handleSearch()}\r\n\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t/>\r\n\t\t\t{alert.view ? <Alert data={alert.data} status={alert.status} /> : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}