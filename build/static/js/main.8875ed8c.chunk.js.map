{"version":3,"sources":["components/SearchForm.js","components/AddForm.js","components/Person.js","components/Persons.js","components/Alert.js","services/namesService.js","index.js"],"names":["searchText","setSearchText","value","onChange","e","target","placeholder","newName","newNumber","setNewName","setNewNumber","handleSubmit","onSubmit","htmlFor","id","person","handleDelete","handleUpdate","name","number","onClick","results","searchResult","persons","length","map","Person","key","data","status","setAlert","setTimeout","view","style","backgroundColor","getAll","a","axios","get","addPerson","post","deletePerson","delete","updatePerson","put","ReactDOM","render","useState","setPersons","alert","useEffect","namesService","then","checkDuplicate","find","handleSearch","filter","toLowerCase","includes","SearchForm","AddForm","preventDefault","concat","catch","err","response","message","Persons","window","confirm","updatesList","prompt","updatedPerson","Alert","document","getElementById"],"mappings":"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","file":"static/js/main.8875ed8c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default ({ searchText, setSearchText }) => (\r\n  <div>\r\n    <input\r\n      value={searchText}\r\n      onChange={e => setSearchText(e.target.value)}\r\n      placeholder=\"Search...\"\r\n    />\r\n  </div>\r\n);\r\n","import React from \"react\";\r\n\r\nexport default ({ newName, newNumber, setNewName, setNewNumber, handleSubmit }) => (\r\n  <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label htmlFor=\"nameField\">Name: </label>\r\n          <input\r\n            id=\"nameField\"\r\n            value={newName}\r\n            onChange={e => setNewName(e.target.value)}\r\n          />\r\n          <label htmlFor=\"phoneNo\">Phone number: </label>\r\n          <input\r\n            id=\"phoneNo\"\r\n            value={newNumber}\r\n            onChange={e => setNewNumber(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button>Add</button>\r\n        </div>\r\n      </form>\r\n);","import React from \"react\";\r\n\r\nexport default ({ person, handleDelete, handleUpdate }) => {\r\n\tconst { id, name, number } = person;\r\n\treturn (\r\n\t\t<li>\r\n\t\t\t{name} {number}\r\n\t\t\t<button onClick={() => handleDelete(id, name)}>delete</button>\r\n\t\t\t<button onClick={() => handleUpdate(id)}>update</button>\r\n\t\t</li>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nexport default ({\r\n\tsearchResult,\r\n\tsearchText,\r\n\tpersons,\r\n\thandleDelete,\r\n\thandleUpdate\r\n}) => {\r\n\tlet results;\r\n\tif (searchResult.length) {\r\n\t\tresults = searchResult.map(person => (\r\n\t\t\t<Person\r\n\t\t\t\tkey={person.id}\r\n\t\t\t\tperson={person}\r\n\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\thandleUpdate={handleUpdate}\r\n\t\t\t/>\r\n\t\t));\r\n\t} else if (searchText && !searchResult.length) {\r\n\t\tresults = <p>No match for your search!</p>;\r\n\t} else {\r\n\t\tresults = persons.map(person => (\r\n\t\t\t<Person\r\n\t\t\t\tkey={person.id}\r\n\t\t\t\tperson={person}\r\n\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\thandleUpdate={handleUpdate}\r\n\t\t\t/>\r\n\t\t));\r\n\t}\r\n\r\n\treturn <ul>{results}</ul>;\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ data, status, setAlert }) => {\r\n\tsetTimeout(() => setAlert({ view: false, data: {}, status: false }), 3000);\r\n\treturn (\r\n\t\t<div id=\"modal\" style={{ backgroundColor: status ? \"#4caf50\" : \"#f44336\" }}>\r\n\t\t\t<p>{data}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst relativeURL = \"/api/persons\";\r\n\r\nconst getAll = async () => {\r\n\treturn await axios.get(relativeURL);\r\n};\r\n\r\nconst addPerson = async (newName, newNumber) => {\r\n\treturn await axios.post(relativeURL, {\r\n\t\tname: newName,\r\n\t\tnumber: newNumber\r\n\t});\r\n};\r\n\r\nconst deletePerson = async id => {\r\n\tawait axios.delete(`${relativeURL}/${id}`);\r\n};\r\n\r\nconst updatePerson = async (id, newNumber) => {\r\n\treturn await axios.put(`${relativeURL}/${id}`, newNumber);\r\n};\r\n\r\nexport default {\r\n\tgetAll,\r\n\taddPerson,\r\n\tdeletePerson,\r\n\tupdatePerson\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport SearchForm from \"./components/SearchForm\";\r\nimport AddForm from \"./components/AddForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport Alert from \"./components/Alert\";\r\nimport namesService from \"./services/namesService\";\r\nimport \"./index.css\";\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState(\"\");\r\n\tconst [newNumber, setNewNumber] = useState(\"\");\r\n\tconst [searchText, setSearchText] = useState(\"\");\r\n\tconst [alert, setAlert] = useState({ view: false, data: \"\", status: false });\r\n\r\n\tuseEffect(() => {\r\n\t\tnamesService.getAll().then(({ data }) => {\r\n\t\t\tsetPersons(data);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tconst duplicatedPerson = checkDuplicate();\r\n\t\tif (duplicatedPerson) {\r\n\t\t\tsetAlert({\r\n\t\t\t\tview: true,\r\n\t\t\t\tdata: `${newName} is already exist`,\r\n\t\t\t\tstatus: false\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnamesService\r\n\t\t\t\t.addPerson(newName, newNumber)\r\n\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\tsetPersons(persons.concat(data));\r\n\t\t\t\t\tsetNewName(\"\");\r\n\t\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t\t\tsetAlert({\r\n\t\t\t\t\t\tview: true,\r\n\t\t\t\t\t\tdata: \"Number added successfully\",\r\n\t\t\t\t\t\tstatus: true\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tsetAlert({\r\n\t\t\t\t\t\tview: true,\r\n\t\t\t\t\t\tdata: err.response.data.message,\r\n\t\t\t\t\t\tstatus: false\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst checkDuplicate = () => persons.find(({ name }) => name === newName);\r\n\r\n\tconst handleUpdate = id => {\r\n\t\tconst newNumber = window.prompt(`Replace the old number with this number?`);\r\n\t\tif (!newNumber) return;\r\n\t\tnamesService\r\n\t\t\t.updatePerson(id, { number: newNumber })\r\n\t\t\t.then(updatedPerson => {\r\n\t\t\t\tsetPersons(\r\n\t\t\t\t\tpersons.map(person => {\r\n\t\t\t\t\t\tif (person.id === id) {\r\n\t\t\t\t\t\t\treturn updatedPerson.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn person;\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\tsetNewName(\"\");\r\n\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t\tsetAlert({\r\n\t\t\t\t\tview: true,\r\n\t\t\t\t\tdata: \"Number updated successfully\",\r\n\t\t\t\t\tstatus: true\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetAlert({\r\n\t\t\t\t\tview: true,\r\n\t\t\t\t\tdata: `Information of ${newName} has already been removed from the server`,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t});\r\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id));\r\n\t\t\t\tsetNewName(\"\");\r\n\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleSearch = e => {\r\n\t\treturn persons.filter(({ name }) =>\r\n\t\t\tname.toLowerCase().includes(searchText.toLowerCase())\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleDelete = (id, name) => {\r\n\t\tif (!window.confirm(`Delete ${name}!!`)) return;\r\n\t\tnamesService\r\n\t\t\t.deletePerson(id)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst updatesList = persons.filter(person => person.id !== id);\r\n\t\t\t\tsetPersons(updatesList);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetAlert({\r\n\t\t\t\t\tview: true,\r\n\t\t\t\t\tdata: `Information of ${name} has already been removed from the server`,\r\n\t\t\t\t\tstatus: false\r\n\t\t\t\t});\r\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id));\r\n\t\t\t\tsetNewName(\"\");\r\n\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<SearchForm\r\n\t\t\t\tsearchText={searchText}\r\n\t\t\t\thandleSearch={handleSearch}\r\n\t\t\t\tsetSearchText={setSearchText}\r\n\t\t\t/>\r\n\t\t\t<h3>Add a new</h3>\r\n\t\t\t<AddForm\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tsetNewName={setNewName}\r\n\t\t\t\tsetNewNumber={setNewNumber}\r\n\t\t\t/>\r\n\t\t\t<h3>Numbers</h3>\r\n\t\t\t<Persons\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tsearchText={searchText}\r\n\t\t\t\tsearchResult={handleSearch()}\r\n\t\t\t\thandleDelete={handleDelete}\r\n\t\t\t\thandleUpdate={handleUpdate}\r\n\t\t\t/>\r\n\t\t\t{alert.view ? (\r\n\t\t\t\t<Alert data={alert.data} status={alert.status} setAlert={setAlert} />\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}